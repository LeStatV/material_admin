{#
/**
 * @file
 * Theme override for the modules uninstall page.
 *
 * Available variables:
 * - form: The modules uninstall form.
 * - modules: Contains multiple module instances. Each module contains:
 *   - attributes: Attributes on the row.
 *   - module_name: The name of the module.
 *   - checkbox: A checkbox for uninstalling the module.
 *   - checkbox_id: A unique identifier for interacting with the checkbox
 *     element.
 *   - name: The human-readable name of the module.
 *   - description: The description of the module.
 *   - disabled_reasons: (optional) A list of reasons why this module cannot be
 *     uninstalled.
 *
 * @see template_preprocess_system_modules_uninstall()
 */
#}
{%
  set card = [
    'card',
    'sticky-actions',
    'medium'
  ]
%}

{%
  set caption = [

  ]
%}

{{ form.filters }}
<div class="uninstall-modules-wrapper row">
  {% for module in modules %}
  <div class="col s12 m6 l4 lx3">
    <div {{ module.attributes.addClass(card) }}>
      <div class="card-content">
        <span class="card-title module-name table-filter-text-source activator grey-text text-darken-4">{{ module.name }}<i class="material-icons right">more_vert</i></span>
        <div class="text module-description"><p>{{module.description}}</p></div>
         {%- if module.required_by -%}
         <p> <span class=" new red badge" data-badge-caption="
          {%- trans -%}
          Modules Require This
          {%- endtrans %}">{{ module.required_by|length }}
          </span>
         </p>
         {%- endif -%} 
      </div>
      <div class="card-action">
        <p>{{- module.checkbox -}}</p>
        <label for="{{ module.checkbox_id }}" class="module-name visually-hidden">{{ module.name }}</label>
      </div>
      <div class="card-reveal">
        <span class="card-title grey-text text-darken-4">{{ module.name }}<i class="material-icons right">close</i></span>
        {% if module.reasons_count > 0 %} 
          {%- for reason in module.validation_reasons -%}
            <li><i class="material-icons v-middle">warning</i> {{ reason }}</li>
          {%- endfor -%}
          <p><span class="admin-prevent-text">{%- trans -%}
                The following reason prevents {{ module.module_name }} from being uninstalled:
              {%- plural module.reasons_count -%}
                The following reasons prevent {{ module.module_name }} from being uninstalled:
              {%- endtrans %}</span>
          </p>
        {%- if module.required_by -%}
        <ul>
          <li>{{ 'Required by: '|t}} {% for keys in module.required_by %}
            <span class="chip">{{keys}}</span> {% endfor %}
          </li>
        </ul>
        {%- endif -%} 
      {%- endif -%}
      </div>
    </div>
  </div>
      {% endfor %} {{ form|without('filters', 'modules', 'uninstall') }}
</div>
